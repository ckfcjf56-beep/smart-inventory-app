<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Gemini API 테스트</title>
</head>
<body>
  <h1>Gemini API 직접 테스트</h1>
  <button onclick="testAPI()">API 호출 테스트</button>
  <pre id="result"></pre>

  <script>
    async function testAPI() {
      const resultEl = document.getElementById('result');
      resultEl.textContent = '호출 중...';
      
      try {
        const response = await fetch(
          'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent',
          {
            method: 'POST',
            headers: {
              'x-goog-api-key': 'AIzaSyDulQlx2CxbO5foZIFyghq25UpQhrod-Qw',
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              contents: [{
                role: 'user',
                parts: [{ text: '안녕하세요' }]
              }]
            })
          }
        );

        const data = await response.json();
        
        if (!response.ok) {
          resultEl.textContent = `에러 ${response.status}:\n${JSON.stringify(data, null, 2)}`;
        } else {
          resultEl.textContent = `성공!\n응답: ${data.candidates[0].content.parts[0].text}`;
        }
      } catch (error) {
        resultEl.textContent = `네트워크 에러:\n${error.message}`;
      }
    }
  </script>
</body>
</html>
